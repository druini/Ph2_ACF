<?xml version="1.0" encoding="UTF-8"?>

<HwDescription>
  <BeBoard Id="0" boardType="FC7" eventType="VR">
<!---
    <connection id="cmsinnertracker.crate0.slot0" uri="chtcp-2.0://localhost:10203?target=192.168.1.80:50001" address_table="file://settings/address_tables/CMSIT_FC7_address_table.xml" />
-->
    <connection id="cmsinnertracker.crate0.slot0" uri="ipbusudp-2.0://192.168.1.80:50001" address_table="file://settings/address_tables/CMSIT_FC7_address_table.xml" />

    <!-- Frontend chip configuration -->
    <Module FeId="0" FMCId="0" ModuleId="0" Status="1">
      <RD53_Files path="./settings/RD53Files/" />
      <RD53 Id="0" configfile="CMSIT_RD53.txt" />
      <Global>
	<!-- Overwrite .txt configuration file settings -->
        <Settings
            EN_CORE_COL_SYNC   = "0"
            EN_CORE_COL_LIN_1  = "65535"
            EN_CORE_COL_LIN_2  =     "1"
            EN_CORE_COL_DIFF_1 = "0"
            EN_CORE_COL_DIFF_2 =     "0"

            EN_MACRO_COL_CAL_LIN_1 = "65535"
            EN_MACRO_COL_CAL_LIN_2 = "65535"
            EN_MACRO_COL_CAL_LIN_3 = "65535"
            EN_MACRO_COL_CAL_LIN_4 = "65535"
            EN_MACRO_COL_CAL_LIN_5 =    "15"

            GP_LVDS_ROUTE    =    "1"

            VTH_SYNC         =  "300"
            REF_KRUM_LIN     =  "300"
            Vthreshold_LIN   =  "400"
            VTH1_DIFF        =  "400"
            VTH2_DIFF        =   "50"

	    VCAL_HIGH        =  "600"
	    VCAL_MED         =  "100"

	    INJECTION_SELECT =    "0"
            LATENCY_CONFIG   =  "140"
            MONITOR_SELECT   = "8203"
	    />
	<!--
	    MONITOR_SELECT: 1(enable) 000000(Current Mux) 0001011(Votage Mux)
	-->
      </Global>
    </Module>
    
    <!-- Configuration for backend readout board -->
    <Register name="user">
      <Register name="ctrl_regs">
	<Register name="reset_reg">
	  <Register name="i2c_rst"> 0x0 </Register>
	</Register>
      </Register>
    </Register>
    
  </BeBoard>


  <!-- Parameters for the calibration program
       INJtype = 0: Analog; INJtype = 1: Digital
  -->
  <Settings>
    <Setting name="nEvents">     100 </Setting>

    <Setting name="NTRIGxL1A">    31 </Setting>
    <Setting name="INJtype">       0 </Setting>

    <Setting name="ROWstart">     50 </Setting>
    <Setting name="ROWstop">      73 </Setting>
    <Setting name="COLstart">    128 </Setting>
    <Setting name="COLstop">     151 </Setting>
    <Setting name="nPixelInj">    24 </Setting>

    <Setting name="LatencStart"> 100 </Setting>
    <Setting name="LatencStop">  150 </Setting>

    <Setting name="VCALstart">   360 </Setting>
    <Setting name="VCALstop">   4000 </Setting>
    <Setting name="VCALnsteps">  240 </Setting>
  </Settings>
  
</HwDescription>
