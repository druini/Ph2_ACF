<?xml version="1.0" encoding="LATIN1"?>
<node id="FPGA1" address="0x00000000" >
	<!-- FC7 system register address table -->
	<node id="sysreg" address="0x00000000" module="file://fc7_system_address_table.xml"/>
	<!-- GLIB user logic registers -->
	<!-- firmware configurations -->
    <node id="user_stat" address ="0x40000000" permission="r" mode="block" size="0x0000000F">
    </node>
	<node id="ipb_daq_system_cnfg" address="0x40000100" permission="rw" >
		<node id="fast_command_block" description="internal fast signal is generated in the fast_signal_generator module and the settings are here.">
				
				<node id="triggers_to_accept"             address="0x23" description="# of periodic fast signal cycle from the start signal."/>
				<node id="user_trigger_frequency"       address="0x24" description="User-defined frequency in kHz"/>
				<node id="trigger_source"     address="0x28" mask="0x0000000F" description="1 - L1, 2 - Stubs, 3 - User-Defined Frequency"/>
				<node id="stubs_mask"  address="0x29" description="if mode is stubs, then coincidence mask can be set here: 0x0000000f requires presence of stubs from hybrids 0,1,2,3"/>
		</node>
		<node id="i2c">
			<node id="write_mask" address="0x40" mask="0x000000FF"/>
		</node>
	</node>
	<node id="ipb_daq_system_ctrl" address="0x40000200" permission="rw" >
		<node id="global"                   address="0x00">
			<node id="reset"                             mask="0x00000001" description="reset all the modules."/>
		</node>
		<node id="fast_command_block" address="0x01">
			<node id="reset"                             mask="0x00000001"/>
			<node id="start_trigger"                     mask="0x00000002"/>
			<node id="stop_trigger"                      mask="0x00000004"/>
			<node id="load_config"                 	     mask="0x00000008"/>
			<node id="fast_reset"		             mask="0x00010000"/>
			<node id="fast_test_pulse"		     mask="0x00020000"/>
			<node id="fast_trigger"		             mask="0x00040000"/>
			<node id="fast_orbit_reset"		     mask="0x00080000"/>
		</node>
		<node id="i2c_master" address="0x30">
			<node id="reset"                             mask="0x00000001"/>
			<node id="reset_fifos"                       mask="0x00000004"/>
		</node>
		<node id="i2c_command_fifo" address="0x40" permission="w" mode="non-incremental" size="2048"/>
		<node id="i2c_reply_fifo" address="0x50" permission="r" mode="non-incremental" size="1024"/>   
	</node>
	<node id="ipb_daq_system_stat" address="0x40000300" permission="r" >
        	<node id="status" address="0x00">
			<node id="error">
				<node id="block_id" mask="0xf0000000"/>
				<node id="code" mask="0x0ff00000"/>
			</node>
			<node id="fast_block">
				<node id="configured" mask="0x00002000"/>
				<node id="fsm_state" mask="0x00001000"/>
				<node id="fsm_source" mask="0x00000f00"/>
			</node>
			<node id="i2c_fsm_state" mask="0x0000000f"/>			
		</node>
		<node id="i2c_command_fifo" address="0x50">
			<node id="empty" mask="0x00000001"/>
			<node id="full" mask="0x00000002"/>
		</node>
		<node id="i2c_reply_fifo" address="0x51">
			<node id="empty" mask="0x00000001"/>
			<node id="full" mask="0x00000002"/>
		</node>
		<node id="i2c_nreplies_present" address="0x52"/>

		<node id="ipb_clk_rate" address="0x40"/>
		<node id="40mhz_clk_rate" address="0x41"/>
		<node id="user_clk_rate" address="0x42"/>
	</node>

    <!--Present in Glib or FC7 address table for fpgaconfig-->
	<node id="flash_async_read_cmd"	address="0x0800bddf"  mask="0xFFFFFFFF" description="FLASH memory asynchronous read mode"/>
    	<node id="flash_block" address="0x08000000"     mode="block" size="0x00800000" permission="rw" description="FLASH memory for FPGA configuration"/>
    <!-- ICAP MEMORY SPACE -->
    	<node id="icap" address="0x00000200" mask="0xffffffff" permission="rw" />

    	<node id="buf_cta" address="0x0000400" class="MmcPipeInterface" description="UC link buffer test register" size="0x3" tags="slave">
      		<node id="FPGAtoMMCcounters" address="0x0"/>
      		<node id="MMCtoFPGAcounters" address="0x1"/>
      		<node id="FIFO" address="0x2" mode="non-incremental" size="512" />
  	</node>
</node>
