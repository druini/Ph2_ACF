<?xml version='1.0' encoding='utf-8'?>
<HwDescription>
  <BeBoard Id="0" boardType="D19C">
    <connection id="board" uri="ipbusudp-2.0://192.168.0.83:50001" address_table="file://${OTSDAQ_CMSOUTERTRACKER_DIR}/otsdaq-cmsoutertracker/Ph2_ACF/settings/d19c_address_table.xml" />

    <Module FeId="0" FMCId="0" ModuleId="0" Status="1">
    	<!--Global_CBC_Register name="HitDetectSLVS"> 0xA7 </Global_CBC_Register>
        <Global_CBC_Register name="TestPulsePot"> 0xB0 </Global_CBC_Register-->
	<Global_CBC_Register name="MiscTestPulseCtrl&AnalogMux"> 0xE1 </Global_CBC_Register>    
        <Global_CBC_Register name="VCth"> 0x7A </Global_CBC_Register>
        <Global_CBC_Register name="MiscStubLogic"> 0x5E </Global_CBC_Register>
        <Global_CBC_Register name="TriggerLatency"> 0x0C </Global_CBC_Register>
 
	<CBC_Files path="${OTSDAQ_CMSOUTERTRACKER_DIR}/otsdaq-cmsoutertracker/Ph2_ACF//Results/Calibration_Hole_30-06-17_11:21/" />
        <CBC Id="0" configfile="FE0CBC0.txt" />
        <!--CBC Id="1" configfile="FE0CBC1.txt" /-->
        <!--CBC Id="2" configfile="Cbc_default_hole.txt" />
        <CBC Id="3" configfile="Cbc_default_hole.txt" />
        <CBC Id="4" configfile="Cbc_default_hole.txt" />
        <CBC Id="5" configfile="Cbc_default_hole.txt" />
        <CBC Id="6" configfile="Cbc_default_hole.txt" />
        <CBC Id="7" configfile="Cbc_default_hole.txt" /-->
    </Module>

    <!--CONFIG-->
    <Register name="fc7_daq_cnfg">
        <!-- Fast Command Block -->
        <Register name="fast_command_block">
                <Register name="triggers_to_accept"> 10 </Register>
		<Register name="trigger_source"> 5 </Register>
		<Register name="user_trigger_frequency"> 1 </Register>
		<Register name="stubs_mask"> 1 </Register>
		<Register name="stub_trigger_latency"> 194 </Register>
                <Register name="test_pulse">
                    <Register name="delay_after_fast_reset"> 50 </Register>
                    <Register name="delay_after_test_pulse"> 200 </Register>
	            <Register name="delay_before_next_pulse"> 400 </Register>
                </Register>
        </Register>
	<!-- I2C manager -->
        <Register name="command_processor_block">
                <Register name="i2c_write_mask"> 0xFF </Register>
	</Register>
	<!-- Phy Block -->
	<Register name="physical_interface_block">
		<Register name="i2c">
                	<Register name="frequency"> 4 </Register>
		</Register>
	</Register>
	<!-- Readout Block -->
    	<Register name="readout_block">
            <Register name="packet_nbr"> 0 </Register>
            <Register name="global">
		    <Register name="data_handshake_enable"> 0 </Register>
                    <Register name="int_trig_enable"> 0 </Register>
                    <Register name="int_trig_rate"> 0 </Register>
                    <Register name="trigger_type"> 0 </Register>
                    <Register name="data_type"> 0 </Register>
                    <Register name="common_stubdata_delay"> 194 </Register>
            </Register>
    	</Register>
	<!-- DIO5 Block -->
	<Register name="dio5_block">
	    <Register name="dio5_en"> 1 </Register>
            <Register name="ch1">
                <Register name="out_enable"> 1 </Register>
                <Register name="term_enable"> 0 </Register>
                <Register name="threshold"> 0 </Register>
            </Register>
	    <Register name="ch2">
                <Register name="out_enable"> 0 </Register>
                <Register name="term_enable"> 1 </Register>
                <Register name="threshold"> 50 </Register>
            </Register>
	    <Register name="ch3">
                <Register name="out_enable"> 1 </Register>
                <Register name="term_enable"> 0 </Register>
                <Register name="threshold"> 0 </Register>
            </Register>
	    <Register name="ch4">
                <Register name="out_enable"> 0 </Register>
                <Register name="term_enable"> 1 </Register>
                <Register name="threshold"> 50 </Register>
            </Register>
	    <Register name="ch5">
                <Register name="out_enable"> 0 </Register>
                <Register name="term_enable"> 1 </Register>
                <Register name="threshold"> 50 </Register>
            </Register>
	</Register>
	<!-- TLU Block -->
	<Register name="tlu_block">
		<Register name="handshake_mode"> 2 </Register>
	</Register>
    </Register>
  </BeBoard>
</HwDescription>

<Settings>
    <!--Calibration-->
   <Setting name="TargetVcth">0x78</Setting>
    <Setting name="TargetOffset">0x50</Setting>
    <Setting name="Nevents">50</Setting>
    <Setting name="TestPulsePotentiometer">0x00</Setting>
    <Setting name="HoleMode">1</Setting>
    <Setting name="VerificationLoop">1</Setting>

</Settings>
